model Card {
    id                    String   @id @default(auto()) @map("_id") @db.ObjectId
    stripePaymentMethodId String   @unique
    brand                 String
    last4                 String
    expMonth              Int
    expYear               Int
    isDefault             Boolean  @default(false)
    createdAt             DateTime @default(now())
    updatedAt             DateTime @updatedAt

    userId String
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@index([userId])
    @@map("card")
}

model Transaction {
    id                    String   @id @default(auto()) @map("_id") @db.ObjectId
    type                  String
    status                String
    currency              String   @default("USD")
    amount                Float
    stripePaymentIntentId String?  @unique
    stripePayoutId        String?  @unique
    stripePaymentMethodId String?
    createdAt             DateTime @default(now())
    updatedAt             DateTime @updatedAt

    userId String
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@index([userId])
    @@map("transaction")
}
